<head><style>html {
  font-family: Consolas, "Liberation Mono", Courier, monospace;
  font-size: 85%;
  color: white;
  background: black;
}

.msg h1, .msg h3 {
  line-height: 40px;
  font-size: 1em;
  font-weight: 800;
  padding: 10px 0 10px 20px;
  background: green;
}

.msg h3 {
  line-height: 30px;
  font-size: 0.8em;
  margin-top: 10px;
  font-weight: 600;
}

code {
  margin: 20px;
}

.error-line {
  font-size: 120%;
  font-weight: 800;
  padding: 10px 0;
  background: #a60000;
  margin: 10px 0;
}

ul {
  list-style-type: none;
}

.ln {
  margin-right: 10px;
}

.stack {
  text-align: right;
  padding-right: 30px;
}</style><title>Error</title></head><body><div><div><div class="message"><h1>Oh no</h1><code>{:it-is "broken", :range (0 1 2 3 4 5 6 7 8 9)}
</code><div><div>clojure.core$ex_info.invoke(core.clj:4327)</div><div class="file"><h3>smokestack.test_render</h3><ul class="lines"><li class="line"><span class="ln">1</span><code>(ns smokestack.test-render</code></li><li class="line"><span class="ln">2</span><code>  (:require [clojure.test :refer :all]</code></li><li class="line"><span class="ln">3</span><code>            [smokestack.core :refer :all]</code></li><li class="line"><span class="ln">4</span><code>            [smokestack.render :refer :all]))</code></li><li class="line"><span class="ln">5</span><code></code></li><li class="line"><span class="ln">6</span><code>(def e (try</code></li><li class="line"><span class="ln">7</span><code>         (+ 1 "1")</code></li><li class="line"><span class="ln">8</span><code>         (catch Exception e</code></li><li class="line"><span class="ln">9</span><code>           e)))</code></li><li class="line"><span class="ln">10</span><code></code></li><li class="line"><span class="ln">11</span><code>(def ei (try</code></li><li class="error-line"><span class="ln">12</span><code>          (throw (ex-info "Oh no" {:it-is "broken" :range (range 10)} e))</code></li><li class="line"><span class="ln">13</span><code>          (catch Exception e</code></li><li class="line"><span class="ln">14</span><code>            e)))</code></li><li class="line"><span class="ln">15</span><code></code></li><li class="line"><span class="ln">16</span><code>(def code [[1 "line a"]</code></li><li class="line"><span class="ln">17</span><code>           [2 "line b"]])</code></li><li class="line"><span class="ln">18</span><code></code></li><li class="line"><span class="ln">19</span><code>(deftest render-tests</code></li><li class="line"><span class="ln">20</span><code>  (is (text-code ["source.clj" 1 code]))</code></li><li class="line"><span class="ln">21</span><code>  (is (html-code ["source.clj" 1 code]))</code></li><li class="line"><span class="ln">22</span><code>  (is (html-one-exception e))</code></li><li class="line"><span class="ln">23</span><code>  (is (text-one-exception e))</code></li><li class="line"><span class="ln">24</span><code>  (is (html-exception e))</code></li><li class="line"><span class="ln">25</span><code>  (is (text-exception e))</code></li><li class="line"><span class="ln">26</span><code>  (spit "err.html" (html-exception-page e))</code></li><li class="line"><span class="ln">27</span><code>  (spit "err.txt" (text-exception e))</code></li><li class="line"><span class="ln">28</span><code>  (spit "err2.html" (html-exception-page ei))</code></li><li class="line"><span class="ln">29</span><code>  (spit "err2.txt" (text-exception ei))</code></li></ul></div><div>clojure.lang.AFn.applyToHelper(AFn.java:159)</div><div>clojure.lang.AFn.applyTo(AFn.java:151)</div><div>clojure.lang.Compiler$InvokeExpr.eval(Compiler.java:3458)</div><div>clojure.lang.Compiler$DefExpr.eval(Compiler.java:408)</div><div>clojure.lang.Compiler.eval(Compiler.java:6624)</div><div>clojure.lang.Compiler.load(Compiler.java:7064)</div><div>clojure.lang.RT.loadResourceScript(RT.java:370)</div><div>clojure.lang.RT.loadResourceScript(RT.java:361)</div><div>clojure.lang.RT.load(RT.java:440)</div><div>clojure.lang.RT.load(RT.java:411)</div><div>clojure.core$load$fn__5018.invoke(core.clj:5530)</div><div>clojure.core$load.doInvoke(core.clj:5529)</div><div>clojure.lang.RestFn.invoke(RestFn.java:408)</div><div>clojure.core$load_one.invoke(core.clj:5336)</div><div>clojure.core$load_lib$fn__4967.invoke(core.clj:5375)</div><div>clojure.core$load_lib.doInvoke(core.clj:5374)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:142)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>clojure.core$load_libs.doInvoke(core.clj:5413)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:137)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>clojure.core$require.doInvoke(core.clj:5496)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:137)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>user$eval85.invoke(form-init7912501324588696366.clj:1)</div><div>clojure.lang.Compiler.eval(Compiler.java:6619)</div><div>clojure.lang.Compiler.eval(Compiler.java:6609)</div><div>clojure.lang.Compiler.load(Compiler.java:7064)</div><div>clojure.lang.Compiler.loadFile(Compiler.java:7020)</div><div>clojure.main$load_script.invoke(main.clj:294)</div><div>clojure.main$init_opt.invoke(main.clj:299)</div><div>clojure.main$initialize.invoke(main.clj:327)</div><div>clojure.main$null_opt.invoke(main.clj:362)</div><div>clojure.main$main.doInvoke(main.clj:440)</div><div>clojure.lang.RestFn.invoke(RestFn.java:421)</div><div>clojure.lang.Var.invoke(Var.java:419)</div><div>clojure.lang.AFn.applyToHelper(AFn.java:163)</div><div>clojure.lang.Var.applyTo(Var.java:532)</div><div>clojure.main.main(main.java:37)</div></div></div></div><h2>Caused by:</h2><div><div class="message"><h1>java.lang.String cannot be cast to java.lang.Number</h1><div><div>clojure.lang.Numbers.add(Numbers.java:126)</div><div>clojure.lang.Numbers.add(Numbers.java:3523)</div><div class="file"><h3>smokestack.test_render</h3><ul class="lines"><li class="line"><span class="ln">1</span><code>(ns smokestack.test-render</code></li><li class="line"><span class="ln">2</span><code>  (:require [clojure.test :refer :all]</code></li><li class="line"><span class="ln">3</span><code>            [smokestack.core :refer :all]</code></li><li class="line"><span class="ln">4</span><code>            [smokestack.render :refer :all]))</code></li><li class="line"><span class="ln">5</span><code></code></li><li class="line"><span class="ln">6</span><code>(def e (try</code></li><li class="error-line"><span class="ln">7</span><code>         (+ 1 "1")</code></li><li class="line"><span class="ln">8</span><code>         (catch Exception e</code></li><li class="line"><span class="ln">9</span><code>           e)))</code></li><li class="line"><span class="ln">10</span><code></code></li><li class="line"><span class="ln">11</span><code>(def ei (try</code></li><li class="line"><span class="ln">12</span><code>          (throw (ex-info "Oh no" {:it-is "broken" :range (range 10)} e))</code></li><li class="line"><span class="ln">13</span><code>          (catch Exception e</code></li><li class="line"><span class="ln">14</span><code>            e)))</code></li><li class="line"><span class="ln">15</span><code></code></li><li class="line"><span class="ln">16</span><code>(def code [[1 "line a"]</code></li><li class="line"><span class="ln">17</span><code>           [2 "line b"]])</code></li><li class="line"><span class="ln">18</span><code></code></li><li class="line"><span class="ln">19</span><code>(deftest render-tests</code></li><li class="line"><span class="ln">20</span><code>  (is (text-code ["source.clj" 1 code]))</code></li><li class="line"><span class="ln">21</span><code>  (is (html-code ["source.clj" 1 code]))</code></li><li class="line"><span class="ln">22</span><code>  (is (html-one-exception e))</code></li><li class="line"><span class="ln">23</span><code>  (is (text-one-exception e))</code></li><li class="line"><span class="ln">24</span><code>  (is (html-exception e))</code></li></ul></div><div>clojure.lang.AFn.applyToHelper(AFn.java:159)</div><div>clojure.lang.AFn.applyTo(AFn.java:151)</div><div>clojure.lang.Compiler$InvokeExpr.eval(Compiler.java:3458)</div><div>clojure.lang.Compiler$DefExpr.eval(Compiler.java:408)</div><div>clojure.lang.Compiler.eval(Compiler.java:6624)</div><div>clojure.lang.Compiler.load(Compiler.java:7064)</div><div>clojure.lang.RT.loadResourceScript(RT.java:370)</div><div>clojure.lang.RT.loadResourceScript(RT.java:361)</div><div>clojure.lang.RT.load(RT.java:440)</div><div>clojure.lang.RT.load(RT.java:411)</div><div>clojure.core$load$fn__5018.invoke(core.clj:5530)</div><div>clojure.core$load.doInvoke(core.clj:5529)</div><div>clojure.lang.RestFn.invoke(RestFn.java:408)</div><div>clojure.core$load_one.invoke(core.clj:5336)</div><div>clojure.core$load_lib$fn__4967.invoke(core.clj:5375)</div><div>clojure.core$load_lib.doInvoke(core.clj:5374)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:142)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>clojure.core$load_libs.doInvoke(core.clj:5413)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:137)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>clojure.core$require.doInvoke(core.clj:5496)</div><div>clojure.lang.RestFn.applyTo(RestFn.java:137)</div><div>clojure.core$apply.invoke(core.clj:619)</div><div>user$eval85.invoke(form-init7912501324588696366.clj:1)</div><div>clojure.lang.Compiler.eval(Compiler.java:6619)</div><div>clojure.lang.Compiler.eval(Compiler.java:6609)</div><div>clojure.lang.Compiler.load(Compiler.java:7064)</div><div>clojure.lang.Compiler.loadFile(Compiler.java:7020)</div><div>clojure.main$load_script.invoke(main.clj:294)</div><div>clojure.main$init_opt.invoke(main.clj:299)</div><div>clojure.main$initialize.invoke(main.clj:327)</div><div>clojure.main$null_opt.invoke(main.clj:362)</div><div>clojure.main$main.doInvoke(main.clj:440)</div><div>clojure.lang.RestFn.invoke(RestFn.java:421)</div><div>clojure.lang.Var.invoke(Var.java:419)</div><div>clojure.lang.AFn.applyToHelper(AFn.java:163)</div><div>clojure.lang.Var.applyTo(Var.java:532)</div><div>clojure.main.main(main.java:37)</div></div></div></div></div></body>